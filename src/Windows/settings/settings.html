<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Settings</title>
		<link rel="stylesheet" href="./settings.css" />
	</head>
	<body>
		<div class="settings-container">
			<div class="tab">
				<button class="tablinks" onclick="openTab(event, 'settings')" id="defaultOpen">Settings</button>
				<button class="tablinks" onclick="openTab(event, 'twitchConnect')">Twitch Connect</button>
				<button class="tablinks" onclick="openTab(event, 'banList')">Banlist</button>
				<button class="close" onclick="closeWindow()">X</button>
			</div>

			<div id="settings" class="tabcontent">
				<h2>Game Settings</h2>
				<div data-tip="Players can change their guess. Streaks, scores & distances won't be displayed on the leaderboard.">
					<label class="checkbox-container">
						Allow guess changing
						<input type="checkbox" id="isMultiGuess" />
						<span class="checkmark"></span>
					</label>
				</div>
				<input type="button" class="btn success" value="SAVE" onclick="gameSettingsForm()" />
				<input type="button" class="btn danger" id="clearStatsBtn" value="Clear all stats" onclick="clearStats()" />

				<hr />

				<h2>Twitch Settings</h2>
				<label class="checkbox-container">
					<div data-tip="Display &lt;User&gt; guessed in chat">Display guess confirmation</div>
					<input type="checkbox" id="showHasGuessed" />
					<span class="checkmark"></span>
				</label>
				<h3>User commands</h3>
				<div class="grid__col">
					<div class="col">
						<div class="form__group">
							<label class="form__label">Get map link :</label>
							<div data-tip="Get map link (!cg by default). Leave empty to disable">
								<input class="form__field" type="text" id="cgCmd" spellcheck="false" />
							</div>
						</div>
						<div class="form__group">
							<label class="form__label">Map link message :</label>
							<textarea class="form__field" id="cgMsg" spellcheck="false" rows="3"></textarea>
						</div>
					</div>
					<div class="col">
						<div class="form__group">
							<label class="form__label">Get user stats :</label>
							<div data-tip="Displays user stats in chat">
								<input class="form__field" type="text" id="userGetStatsCmd" spellcheck="false" required />
							</div>
						</div>
						<div class="form__group">
							<label class="form__label">Clear user stats :</label>
							<div data-tip="Clear user stats">
								<input class="form__field" type="text" id="userClearStatsCmd" spellcheck="false" required />
							</div>
						</div>
					</div>
				</div>

				<input type="button" class="btn success" value="SAVE" onclick="twitchCommandsForm()" />
			</div>

			<div id="twitchConnect" class="tabcontent">
				<h2>Status : <span id="twitchStatus"></span></h2>

				<div class="form__group" id="cgLinkContainer">
					<label class="form__label">You cg link :</label>
					<div class="flex gap-05">
						<input class="form__field" type="text" id="cgLink" disabled />
						<button id="copyLinkBtn" class="btn small success">Copy</button>
					</div>
				</div>
				<form name="twitch-form" onsubmit="twitchSettingsForm(event)">
					<div class="form__group">
						<label class="form__label">Channel Name :</label>
						<div data-tip="Your streamer account">
							<input class="form__field" type="text" id="channelName" spellcheck="false" required />
						</div>
					</div>
					<div class="form__group">
						<label class="form__label">Bot Name :</label>
						<div data-tip="Fill in your channel if you don't want to use a bot account. However a bot is recommended to handle the whispers.">
							<input class="form__field" type="text" id="botUsername" spellcheck="false" required />
						</div>
					</div>
					<div class="form__group">
						<label class="form__label">OAuth Token :</label>
						<div data-tip="If you use a bot account you need to be authenticated as the bot when you generate the token.">
							<input class="form__field" type="password" id="twitchToken" required />
						</div>
						<a href="https://twitchapps.com/tmi/" class="oauth-link" target="_blank">get oAuth Token</a>
					</div>

					<input type="submit" class="btn success" value="SAVE" />
				</form>
			</div>

			<div id="banList" class="tabcontent">
				<form onsubmit="addUser(event)">
					<div class="form__group">
						<div class="flex gap-05">
							<input class="form__field" type="text" id="banUserInput" spellcheck="false" />
							<input type="submit" id="banUserBtn" class="btn small success" value="Ban User" />
						</div>
					</div>
				</form>
				<h3>Banned users :</h3>
				<div id="bannedUsersList" class="flex wrap gap-05"></div>
			</div>
		</div>
		<script src="./settings.js"></script>
	</body>
</html>
